{% extends "base.html" %}

{% block title %}Usu√°rios{% endblock %}
{% block header %}Usu√°rios{% endblock %}

{% block content %}

<!-- CARD DE CADASTRO -->
<div class="card">

    <div class="topo-card">
        <strong>Cadastrar Novo Usu√°rio</strong>
    </div>

    <form method="POST" action="{{ url_for('novo_usuario') }}" class="form-grid">

        <div>
            <label>Nome de usu√°rio</label>
            <input type="text" name="usuario" required>
        </div>

        <div>
            <label>Senha</label>
            <input type="password" name="senha" required>
        </div>

        <div>
            <label>Confirme a senha</label>
            <input type="password" name="senha_confirm" required>
        </div>

        <button type="submit" class="btn-primary" style="margin-top:10px;">
            Cadastrar
        </button>

    </form>
</div>

<!-- LISTA DE USU√ÅRIOS -->
<div class="card" style="margin-top:22px;">

    <div class="topo-card">
        <strong>Usu√°rios Existentes</strong>
    </div>

    <table class="tabela-vendas">
        <thead>
            <tr>
                <th>ID</th>
                <th>Usu√°rio</th>
                <th style="text-align:center;">A√ß√µes</th>
            </tr>
        </thead>

        <tbody>
            {% for u in usuarios %}
            <tr>
                <td>{{ u.id }}</td>
                <td>{{ u.usuario }}</td>

                <td class="acoes">
                    <a href="{{ url_for('editar_usuario', user_id=u.id) }}" class="acao editar">
                        ‚úè
                    </a>

                    {% if u.id != current_user.id %}
                    <a href="{{ url_for('excluir_usuario', user_id=u.id) }}"
                       onclick="return confirm('Deseja realmente excluir?')"
                       class="acao excluir">
                       üóë
                    </a>
                    {% endif %}
                </td>

            </tr>
            {% endfor %}
        </tbody>

    </table>

</div>

{% endblock %}
